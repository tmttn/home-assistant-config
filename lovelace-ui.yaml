---
#-
#  _                _                            _
# | | _____   _____| | __ _  ___ ___       _   _(_)
# | |/ _ \ \ / / _ \ |/ _` |/ __/ _ \_____| | | | |
# | | (_) \ V /  __/ | (_| | (_|  __/_____| |_| | |
# |_|\___/ \_/ \___|_|\__,_|\___\___|      \__,_|_|
#
#
#- from github.com/tmttn/home-assistant-config
background: var(--background-image)
decluttering_templates:
  automation_template:
    card:
      card:
        show_header_toggle: false
        title: '[[name]] automations'
        type: entities
      filter:
        include:
        - entity_id: automation.[[slug]]*
      sort: entity_id
      type: custom:auto-entities
title: Huis
views:
- badges:
  - entity: person.tom
  - entity: person.tanja
  cards:
  - entities:
    - entities:
      - light.living_room_dining_table_lights
      - light.living_room_middle_lights
      - switch.hue_plug
      - light.tv_led
      - entity: script.cozy_lights_living_room
        icon_height: 20px
        name: Cozy lights
        show_icon: false
        show_name: true
        tap_action:
          action: call-service
          service: script.cozy_lights_living_room
      - entity: script.white_lights_living_room
        icon_height: 20px
        name: White lights
        show_icon: false
        show_name: true
        tap_action:
          action: call-service
          service: script.white_lights_living_room
      head:
        color_picker: true
        entity: light.living_room_lights
        hide_when_off: false
        name: Living
        type: custom:slider-entity-row
      type: custom:fold-entity-row
    - color_picker: true
      entity: light.bathroom_lights
      hide_when_off: false
      name: Bathroom
      type: custom:slider-entity-row
    - entities:
      - light.bedroom_ceiling_lights
      - light.bedroom_bedside_tom
      - input_boolean.automatic_bedroom_lights
      - input_boolean.bedroom_lights_automatically_turned_on
      - entity: script.cozy_lights_bedroom
        icon_height: 20px
        name: Cozy lights
        show_icon: false
        show_name: true
        tap_action:
          action: call-service
          service: script.cozy_lights_bedroom
      - entity: script.white_lights_bedroom
        icon_height: 20px
        name: White lights
        show_icon: false
        show_name: true
        tap_action:
          action: call-service
          service: script.white_lights_bedroom
      head:
        entity: light.bedroom_lights
        hide_when_off: false
        name: Bedroom
        type: custom:slider-entity-row
      name: Bed
      type: custom:fold-entity-row
    - entities:
      - light.guest_bedroom_bedside
      - input_boolean.automatic_guest_bedroom_lights
      - input_boolean.guest_bedroom_lights_automatically_turned_on
      - entity: script.cozy_lights_guest_bedroom
        icon_height: 20px
        name: Cozy lights
        show_icon: false
        show_name: true
        tap_action:
          action: call-service
          service: script.cozy_lights_guest_bedroom
      - entity: script.white_lights_guest_bedroom
        icon_height: 20px
        name: White lights
        show_icon: false
        show_name: true
        tap_action:
          action: call-service
          service: script.white_lights_guest_bedroom
      head:
        entity: light.guest_bedroom_lights
        hide_when_off: false
        name: Guest Bedroom
        type: custom:slider-entity-row
      name: Bed
      type: custom:fold-entity-row
    - entities:
      - entities:
        - light.terrace_lights
        head:
          entity: light.automatic_lights
          hide_when_off: false
          name: Outside lights
          type: custom:slider-entity-row
        type: custom:fold-entity-row
      - light.kitchen_lights
      - light.toilet
      - entities:
        - icon: mdi:human-edit
          name: "{% set manual_control = (\n    (state_attr('switch.adaptive_lighting_default',\
            \ 'manual_control') or []) +\n    (state_attr('switch.adaptive_lighting_living_room',\
            \ 'manual_control') or []) +\n    (state_attr('switch.adaptive_lighting_half_and_full',\
            \ 'manual_control') or []) +\n    (state_attr('switch.adaptive_lighting_half_and_dim',\
            \ 'manual_control') or [])\n) %} {% if manual_control %}\n  {{ manual_control\
            \ | join(\", \") }}.\n{% else %}\n  Nothing is manually controlled.\n\
            {% endif %}\n"
          type: custom:template-entity-row
        - entity: script.reset_adaptive_lighting
        - type: divider
        - entity: switch.adaptive_lighting_default
          name: default
        - entity: switch.adaptive_lighting_sleep_mode_default
          name: Sleep mode
        - entity: switch.adaptive_lighting_adapt_brightness_default
          name: Adapt brightness
        - entity: switch.adaptive_lighting_adapt_color_default
          name: Adapt color
        - type: divider
        - entity: switch.adaptive_lighting_living_room
          name: living_room
        - entity: switch.adaptive_lighting_sleep_mode_living_room
          name: Sleep mode
        - entity: switch.adaptive_lighting_adapt_brightness_living_room
          name: Adapt brightness
        - entity: switch.adaptive_lighting_adapt_color_living_room
          name: Adapt color
        - type: divider
        - entity: switch.adaptive_lighting_half_and_full
          name: half_and_full
        - entity: switch.adaptive_lighting_sleep_mode_half_and_full
          name: Sleep mode
        - entity: switch.adaptive_lighting_adapt_brightness_half_and_full
          name: Adapt brightness
        - entity: switch.adaptive_lighting_adapt_color_half_and_full
          name: Adapt color
        - type: divider
        - entity: switch.adaptive_lighting_half_and_dim
          name: half_and_dim
        - entity: switch.adaptive_lighting_sleep_mode_half_and_dim
          name: Sleep mode
        - entity: switch.adaptive_lighting_adapt_brightness_half_and_dim
          name: Adapt brightness
        - entity: switch.adaptive_lighting_adapt_color_half_and_dim
          name: Adapt color
        - type: divider
        - entity: switch.adaptive_lighting_outside
          name: outside
        - entity: switch.adaptive_lighting_sleep_mode_outside
          name: Sleep mode
        - entity: switch.adaptive_lighting_adapt_brightness_outside
          name: Adapt brightness
        - entity: switch.adaptive_lighting_adapt_color_outside
          name: Adapt color
        head:
          entity: switch.adaptive_lighting_default
        type: custom:fold-entity-row
      head:
        entity: light.automatic_lights
        hide_when_off: false
        name: Automatic
        type: custom:slider-entity-row
      type: custom:fold-entity-row
    - entities:
      - entity: light.shelly_plug_s_1
        icon: mdi:pine-tree
        name: Christmas tree
      - entity: light.shelly_plug_s_2
        icon: mdi:string-lights
        name: Staircase
      head:
        entity: light.christmas_lights_inside
        icon: mdi:string-lights
      icon: mdi:string-lights
      type: custom:fold-entity-row
    show_header_toggle: false
    title: Lights
    type: entities
  - entities:
    - custom:
      - temp: sensor.bunderhome_weerstation_ws_2902c_temp
      - humidity: sensor.bunderhome_weerstation_ws_2902c_humidity
      - precipitation: sensor.bunderhome_weerstation_ws_2902c_daily_rain
      - wind-bearing: sensor.bunderhome_weerstation_ws_2902c_wind_dir
      - wind-speed: sensor.bunderhome_weerstation_ws_2902c_wind_speed
      - pressure: sensor.bunderhome_weerstation_ws_2902c_rel_pressure
      entity: weather.buienradar
      name: Bilzen
      style: "ha-card {\n  background: none;\n  border: none;\n  box-shadow: none;\n\
        \  padding-left: none;\n}\n"
      type: custom:simple-weather-card
    - type: divider
    - entity: sensor.limburg_net_morgen
      icon: mdi:trash-can
      name: Take out the trash
    show_header_toggle: false
    state_color: false
    style: ".card-content {\n  padding-top: 16px;\n}\n"
    type: entities
  - cards:
    - cards:
      - entity: media_player.shield
        hide:
          controls: true
          mute: false
          play_stop: true
          volume: false
        icon: mdi:television
        name: Nvidia Shield
        type: custom:mini-media-player
      - entity: media_player.google_home
        hide:
          icon: true
          mute: true
          power_state: false
        info: short
        type: custom:mini-media-player
      - entity: media_player.kitchen_display
        hide:
          icon: true
          mute: true
          power_state: false
        info: short
        type: custom:mini-media-player
      - entity: media_player.google_home_mini
        hide:
          icon: true
          mute: true
          power_state: false
        info: short
        type: custom:mini-media-player
      - entity: media_player.guest_bedroom_wifi
        hide:
          icon: true
          mute: true
          power_state: false
        info: short
        type: custom:mini-media-player
      - entity: media_player.spotify
        hide:
          power_state: false
          source: true
          volume: true
        icon: mdi:spotify
        type: custom:mini-media-player
      parameters:
        autoplay:
          delay: 5000
        speed: 2000
      type: custom:swipe-card
    - cards:
      - icon: mdi:sofa
        name: Play music in living room
        styles:
          card:
          - font-size: 12px
          - font-weight: bold
          - height: 70px
        tap_action:
          action: call-service
          service: script.start_spotify_playlist_of_nearest_person
          service_data:
            entity_id: media_player.google_home
        type: custom:button-card
      - icon: mdi:bed-king
        name: Play music in bedroom
        styles:
          card:
          - font-size: 12px
          - font-weight: bold
          - height: 70px
        tap_action:
          action: call-service
          service: script.start_spotify_playlist_of_nearest_person
          service_data:
            entity_id: media_player.google_home_mini
        type: custom:button-card
      type: horizontal-stack
    - card:
        type: custom:timer-bar-card
      filter:
        exclude:
        - state: unavailable
        - state: ''
        - state: idle
        include:
        - attributes:
            integration: google_home
          domain: sensor
          entity_id: sensor.*_timer
      show_empty: false
      sort:
        ignore_case: true
        method: name
      type: custom:auto-entities
    style: "ha-card {\n  --mini-media-player-base-color: red;\n  --mini-media-player-icon-color:\
      \ red;\n  --mini-media-player-background-opacity: 0.1;\n  --mini-media-player-overlay-color:\
      \ red;\n}\n"
    type: vertical-stack
  - entities:
    - entity: input_boolean.alarm_clock
    - entity: input_datetime.alarm_clock
    - entity: input_select.sleep_mode
    show_header_toggle: false
    style: ".card-content {\n  padding-top: 16px;\n}\n"
    type: entities
  - cards:
    - entities:
      - entity: vacuum.robot_vacuum
        name: Vacuum cleaner
        primary:
          entity: binary_sensor.vacuum_day
          name: Vacuum day
        secondary:
          attribute: battery_level
          name: Battery
          unit: '%'
        type: custom:multiple-entity-row
      - entity: switch.vacuum_mode
      - entity: input_boolean.cleaned_today
      - entity: binary_sensor.vacuum_day
      show_header_toggle: false
      style: ".card-content {\n  padding-top: 16px;\n}\nha-card {\n  border-radius:\
        \ var(--ha-card-border-radius, 12px) var(--ha-card-border-radius, 12px) 0\
        \ 0;\n  background: transparent;\n}\n"
      type: entities
    - cards:
      - calibration_source:
          camera: true
        entity: vacuum.robot_vacuum
        icons: []
        map_locked: true
        map_modes:
        - template: vacuum_clean_zone
        - template: vacuum_goto
        - predefined_selections:
          - icon:
              name: mdi:stairs
              x: 17750
              y: 31500
            id: '1'
            label:
              offset_y: 35
              text: Hall
              x: 17750
              y: 31500
            outline:
            - - 16200
              - 30200
            - - 21900
              - 30200
            - - 21900
              - 33750
            - - 16200
              - 33750
          - icon:
              name: mdi:cupboard
              x: 23975
              y: 35000
            id: '16'
            label:
              offset_y: 35
              text: Storage
              x: 23975
              y: 35000
            outline:
            - - 22000
              - 33800
            - - 25950
              - 33800
            - - 25950
              - 35950
            - - 22000
              - 35950
          - icon:
              name: mdi:sofa
              x: 21500
              y: 28025
            id: '17'
            label:
              offset_y: 35
              text: Living room
              x: 21500
              y: 28025
            outline:
            - - 16350
              - 25100
            - - 26150
              - 25100
            - - 26150
              - 28450
            - - 24500
              - 28450
            - - 23800
              - 29200
            - - 23800
              - 30200
            - - 16350
              - 30200
          - icon:
              name: mdi:pot-mix
              x: 24025
              y: 32525
            id: '18'
            label:
              offset_y: 35
              text: Kitchen
              x: 24025
              y: 32525
            outline:
            - - 21900
              - 30200
            - - 23800
              - 30200
            - - 23800
              - 29200
            - - 24500
              - 28450
            - - 26150
              - 28450
            - - 26150
              - 30200
            - - 25500
              - 30200
            - - 25500
              - 33800
            - - 21900
              - 33800
          template: vacuum_clean_segment
        map_source:
          camera: camera.xiaomi_cloud_map_extractor
        style: "ha-card {\n  border-radius: 0 0 var(--ha-card-border-radius, 12px)\
          \ var(--ha-card-border-radius, 12px);\n}\n"
        tiles: []
        two_finger_pan: false
        type: custom:xiaomi-vacuum-map-card
      style: "ha-card {\n  background: transparent;\n  padding-left: 8px;\n  border-radius:\
        \ 0;\n}\nbutton.card-content:focus {\n  background: transparent !important;\n\
        }\n"
      title: Vacuum map
      type: custom:collapsable-cards
    - cards:
      - entity: vacuum.robot_vacuum
        image: null
        name: false
        type: custom:xiaomi-vacuum-card
        vendor: xiaomi
      style: "ha-card {\n  background: transparent;\n  padding-left: 8px;\n  border-radius:\
        \ 0;\n}\nbutton.card-content:focus {\n  background: transparent !important;\n\
        }\n"
      title: Vacuum maintenance
      type: custom:collapsable-cards
    mode: vertical
    type: custom:stack-in-card
  - entities:
    - entity: input_boolean.vacation_mode
    - entity: input_boolean.guest_mode
    - entity: input_boolean.automatic_temperature
    - entity: input_boolean.optimal_electric_vehicle_charging
    show_header_toggle: false
    style: ".card-content {\n  padding-top: 16px;\n}\n"
    type: entities
  - entities:
    - entities:
      - icon: mdi:currency-eur
        name: '{% set kwh = states("sensor.dishwasher_today_s_consumption") | float(default=0)
          %} {% set cost_today = states(''sensor.electricity_price_peak'')|float(default=0)
          * kwh %} Today used {{ kwh }} kWh and cost €{{ cost_today | round(2) }}.

          '
        type: custom:template-entity-row
      head:
        entity: binary_sensor.dishwasher
        name: Dishwasher
        secondary: "{% set on_for = as_timestamp(now()) - as_timestamp(states(\"input_datetime.dishwasher_on\"\
          )) %} {% set off_for = as_timestamp(now()) - as_timestamp(states(\"input_datetime.dishwasher_off\"\
          )) %} {% if states(\"binary_sensor.dishwasher\") == \"on\" %}\n  Has been\
          \ on for {{ (on_for / 60)|round(0) }} minutes.\n{% else %}\n  Has been off\
          \ for {{ (off_for / 3600)|round(1, default=0) }} hours.\n{% endif %}\n"
        state: "{% if is_state(\"binary_sensor.dishwasher\", \"on\") %}\n  {{ states(\"\
          sensor.dishwasher_current_consumption\") }} Watt\n{% else %}\n  Off\n{%\
          \ endif %}\n"
        type: custom:template-entity-row
      type: custom:fold-entity-row
    - entities:
      - icon: mdi:currency-eur
        name: '{% set kwh = states("sensor.washing_machine_today_s_consumption") |
          float(default=0) %} {% set cost_today = states(''sensor.electricity_price_peak'')|float(default=0)
          * kwh %} Today used {{ kwh }} kWh and cost €{{ cost_today | round(2) }}.

          '
        type: custom:template-entity-row
      head:
        entity: binary_sensor.washing_machine
        name: Washing machine
        secondary: "{% set on_for = as_timestamp(now()) - as_timestamp(states(\"input_datetime.washing_machine_on\"\
          )) %} {% set off_for = as_timestamp(now()) - as_timestamp(states(\"input_datetime.washing_machine_off\"\
          )) %} {% if states(\"binary_sensor.washing_machine\") == \"on\" %}\n  Has\
          \ been on for {{ (on_for / 60)|round(0) }} minutes.\n{% else %}\n  Has been\
          \ off for {{ (off_for / 3600)|round(1, default=0) }} hours.\n{% endif %}\n"
        state: "{% if is_state(\"binary_sensor.washing_machine\", \"on\") %}\n  {{\
          \ states(\"sensor.washing_machine_energy\")|float(3) }} KWh\n{% else %}\n\
          \  Off\n{% endif %}\n"
        type: custom:template-entity-row
      type: custom:fold-entity-row
    - entities:
      - icon: mdi:currency-eur
        name: '{% set kwh = states("sensor.tumble_dryer_today_s_consumption") | float(default=0)
          %} {% set cost_today = states(''sensor.electricity_price_peak'')|float(default=0)
          * kwh %} Today used {{ kwh }} kWh and cost €{{ cost_today | round(2) }}.

          '
        type: custom:template-entity-row
      head:
        entity: binary_sensor.tumble_dryer
        name: Tumble dryer
        secondary: "{% set on_for = as_timestamp(now()) - as_timestamp(states(\"input_datetime.tumble_dryer_on\"\
          )) %} {% set off_for = as_timestamp(now()) - as_timestamp(states(\"input_datetime.tumble_dryer_off\"\
          )) %} {% if states(\"binary_sensor.tumble_dryer\") == \"on\" %}\n  Has been\
          \ on for {{ (on_for / 60)|round(0) }} minutes.\n{% else %}\n  Has been off\
          \ for {{ (off_for / 3600)|round(1, default=0) }} hours.\n{% endif %}\n"
        state: "{% if is_state(\"binary_sensor.tumble_dryer\", \"on\") %}\n  {{ states(\"\
          sensor.tumble_dryer_current_consumption\") }} Watt\n{% else %}\n  Off\n\
          {% endif %}\n"
        type: custom:template-entity-row
      type: custom:fold-entity-row
    - entities:
      - icon: mdi:currency-eur
        name: '{% set kwh = states("sensor.espresso_machine_today_s_consumption")
          | float(default=0) %} {% set cost_today = states(''sensor.electricity_price_peak'')|float(default=0)
          * kwh %} Today used {{ kwh }} kWh and cost €{{ cost_today | round(2) }}.

          '
        type: custom:template-entity-row
      head:
        entity: binary_sensor.espresso_machine
        name: Espresso machine
        secondary: "{% set on_for = as_timestamp(now()) - as_timestamp(states(\"input_datetime.espresso_machine_on\"\
          )) %} {% set off_for = as_timestamp(now()) - as_timestamp(states(\"input_datetime.espresso_machine_off\"\
          )) %} {% if states(\"binary_sensor.espresso_machine\") == \"on\" %}\n  Has\
          \ been on for {{ (on_for / 60)|round(0) }} minutes.\n{% else %}\n  Has been\
          \ off for {{ (off_for / 3600)|round(1, default=0) }} hours.\n{% endif %}\n"
        state: "{% if is_state(\"binary_sensor.espresso_machine\", \"on\") %}\n  {{\
          \ states(\"sensor.espresso_machine_current_consumption\") }} Watt\n{% else\
          \ %}\n  Off\n{% endif %}\n"
        type: custom:template-entity-row
      type: custom:fold-entity-row
    - entities:
      - icon: mdi:trending-up
        name: 'Today''s usage statistics '
        type: custom:template-entity-row
      - name: '{{ states("sensor.daily_power")|float(default=0)|round(2) }} kWh power
          → €{{ states("sensor.daily_power_cost")|float(default=0)|round(2) }}. '
        type: custom:template-entity-row
      - name: '{{ states("sensor.daily_gas")|float(default=0)|round(2) }} m³ gas →
          €{{ states("sensor.daily_gas_cost")|float(default=0)|round(2) }}. '
        type: custom:template-entity-row
      - name: '€{{ states("sensor.daily_energy_fixed_cost")|float(default=0)|round(2)
          }} (fixed) + €{{ (states("sensor.daily_gas_cost")|float(default=0) + states("sensor.daily_power_cost")|float(default=0))|round(2)}}
          = €{{ (states("sensor.daily_gas_cost")|float(default=0) + states("sensor.daily_power_cost")|float(default=0)
          + states("sensor.daily_energy_fixed_cost")|float(default=0))|round(2) }}. '
        type: custom:template-entity-row
      - type: divider
      - icon: mdi:trending-up
        name: '{{ as_timestamp(now()) | timestamp_custom("%B") }}''s usage statistics '
        type: custom:template-entity-row
      - name: '{{ states("sensor.monthly_power")|float(default=0)|round(2) }} kWh
          power → €{{ states("sensor.monthly_power_cost")|float(default=0)|round(2)
          }}. '
        type: custom:template-entity-row
      - name: '{{ states("sensor.monthly_gas")|float(default=0)|round(2) }} m³ gas
          → €{{ states("sensor.monthly_gas_cost")|float(default=0)|round(2) }}. '
        type: custom:template-entity-row
      - name: '€{{ states("sensor.monthly_energy_fixed_cost")|float(default=0)|round(2)
          }} (fixed) + €{{ (states("sensor.monthly_gas_cost")|float(default=0) + states("sensor.monthly_power_cost")|float(default=0))|round(2)}}
          = €{{ (states("sensor.monthly_gas_cost")|float(default=0) + states("sensor.monthly_power_cost")|float(default=0)
          + states("sensor.monthly_energy_fixed_cost")|float(default=0))|round(2)
          }}. '
        type: custom:template-entity-row
      - type: divider
      - icon: mdi:trending-up
        name: 'Last month''s usage statistics '
        type: custom:template-entity-row
      - name: '{{ states("sensor.monthly_power_last_period")|float(default=0)|round(2)
          }} kWh power → €{{ states("sensor.monthly_power_cost_last_period")|float(default=0)|round(2)
          }}. '
        type: custom:template-entity-row
      - name: '{{ state_attr("sensor.monthly_gas", "last_period")|float(default=0)|round(2)
          }} m³ gas → €{{ states("sensor.monthly_gas_cost_last_period")|float(default=0)|round(2)
          }}. '
        type: custom:template-entity-row
      - name: '€{{ states("sensor.monthly_energy_fixed_cost_last_period")|float(default=0)|round(2)
          }} (fixed) + €{{ (states("sensor.monthly_gas_cost_last_period")|float(default=0)
          + states("sensor.monthly_power_cost_last_period")|float(default=0))|round(2)}}
          = €{{ (states("sensor.monthly_gas_cost_last_period")|float(default=0) +
          states("sensor.monthly_power_cost_last_period")|float(default=0) + states("sensor.monthly_energy_fixed_cost_last_period")|float(default=0))|round(2)
          }}. '
        type: custom:template-entity-row
      head:
        entity: sensor.daily_gas
        name: Energy usage
        secondary: 'Today {{ states("sensor.daily_power")|float(default=0)|round(2)
          }} kWh and {{ states("sensor.daily_gas")|float(default=0)|round(2) }} m³
          gas. '
        state: '€{{ (states("sensor.daily_gas_cost")|float(default=0) + states("sensor.daily_power_cost")|float(default=0)
          + states("sensor.daily_energy_fixed_cost")|float(default=0))|round(2) }} '
        type: custom:template-entity-row
      type: custom:fold-entity-row
    show_header_toggle: false
    title: Utilities
    type: entities
  - cards:
    - cards:
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.p1_meter_active_power
          name: Power consumption
        font_size: 100
        group: false
        hour24: true
        line_width: 6
        points_per_hour: 1
        show:
          extrema: false
          fill: fade
          labels: false
          name: true
          state: true
        type: custom:mini-graph-card
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.daily_gas
          name: Gas consumption
        font_size: 100
        group: false
        hour24: true
        line_width: 6
        points_per_hour: 1
        show:
          extrema: false
          fill: fade
          labels: false
          name: true
          state: true
        type: custom:mini-graph-card
      type: horizontal-stack
    - cards:
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.daily_power_cost
          name: Power cost
        font_size: 100
        group: false
        hour24: true
        line_width: 6
        points_per_hour: 1
        show:
          extrema: false
          fill: fade
          labels: false
          name: true
          state: true
        type: custom:mini-graph-card
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.daily_gas_cost
          name: Gas cost
        font_size: 100
        group: false
        hour24: true
        line_width: 6
        points_per_hour: 1
        show:
          extrema: false
          fill: fade
          labels: false
          name: true
          state: true
        type: custom:mini-graph-card
      type: horizontal-stack
    parameters:
      autoplay:
        delay: 5000
      speed: 2000
    type: custom:swipe-card
  - cards:
    - color: auto
      icon: mdi:weather-sunset-up
      name: Wake up
      styles:
        card:
        - font-size: 12px
        - font-weight: bold
        - height: 70px
      tap_action:
        action: call-service
        haptic: success
        service: input_select.select_option
        service_data:
          entity_id: input_select.sleep_mode
          option: 'off'
      type: custom:button-card
    - color: auto
      entity: input_select.sleep_mode
      icon: mdi:weather-night
      name: '[[[ if (entity.state != "off") return "Sleep mode on"; else return  "Go
        to sleep" ]]]'
      styles:
        card:
        - font-size: 12px
        - font-weight: bold
        - height: 70px
      tap_action:
        action: call-service
        haptic: success
        service: script.going_to_sleep
      type: custom:button-card
    - color: auto
      icon: mdi:home-map-marker
      name: Arrive Home
      styles:
        card:
        - font-size: 12px
        - font-weight: bold
        - height: 70px
      tap_action:
        action: call-service
        haptic: success
        service: script.arriving
      type: custom:button-card
    - color: auto
      icon: mdi:home-export-outline
      name: Leave Home
      styles:
        card:
        - font-size: 12px
        - font-weight: bold
        - height: 70px
      tap_action:
        action: call-service
        haptic: success
        service: script.leaving
      type: custom:button-card
    type: horizontal-stack
  - cards:
    - cards:
      - entity: climate.living_room
        icon_type: none
        layout: horizontal
        show_temperature_control: true
        style: "mushroom-state-item {\n  margin-right: 0;\n}\n.container {\n  padding:\
          \ 0;\n}\n.button ha-icon {\n  font-size: calc(var(--control-height) * .8);\n\
          }\n"
        type: custom:mushroom-climate-card
      - entity: climate.bathroom
        icon_type: none
        layout: horizontal
        show_temperature_control: true
        style: "mushroom-state-item {\n  margin-right: 0;\n}\n.container {\n  padding:\
          \ 0;\n}\n.button ha-icon {\n  font-size: calc(var(--control-height) * .8);\n\
          }\n"
        type: custom:mushroom-climate-card
      - entity: climate.bedroom
        icon_type: none
        layout: horizontal
        show_temperature_control: true
        style: "mushroom-state-item {\n  margin-right: 0;\n}\n.container {\n  padding:\
          \ 0;\n}\n.button ha-icon {\n  font-size: calc(var(--control-height) * .8);\n\
          }\n"
        type: custom:mushroom-climate-card
      - entity: climate.guest_bedroom
        icon_type: none
        layout: horizontal
        show_temperature_control: true
        style: "mushroom-state-item {\n  margin-right: 0;\n}\n.container {\n  padding:\
          \ 0;\n}\n.button ha-icon {\n  font-size: calc(var(--control-height) * .8);\n\
          }\n"
        type: custom:mushroom-climate-card
      type: vertical-stack
    - cards:
      - entity: climate.kitchen
        icon_type: none
        layout: horizontal
        show_temperature_control: true
        style: "mushroom-state-item {\n  margin-right: 0;\n}\n.container {\n  padding:\
          \ 0;\n}\n.button ha-icon {\n  font-size: calc(var(--control-height) * .8);\n\
          }\n"
        type: custom:mushroom-climate-card
      - entity: climate.storage
        icon_type: none
        layout: horizontal
        show_temperature_control: true
        style: "mushroom-state-item {\n  margin-right: 0;\n}\n.container {\n  padding:\
          \ 0;\n}\n.button ha-icon {\n  font-size: calc(var(--control-height) * .8);\n\
          }\n"
        type: custom:mushroom-climate-card
      - entity: climate.bedroom_marthe
        icon_type: none
        layout: horizontal
        show_temperature_control: true
        style: "mushroom-state-item {\n  margin-right: 0;\n}\n.container {\n  padding:\
          \ 0;\n}\n.button ha-icon {\n  font-size: calc(var(--control-height) * .8);\n\
          }\n"
        type: custom:mushroom-climate-card
      - entity: climate.hall
        icon_type: none
        layout: horizontal
        show_temperature_control: true
        style: "mushroom-state-item {\n  margin-right: 0;\n}\n.container {\n  padding:\
          \ 0;\n}\n.button ha-icon {\n  font-size: calc(var(--control-height) * .8);\n\
          }\n"
        type: custom:mushroom-climate-card
      type: vertical-stack
    type: horizontal-stack
  - entity: plant.peperomia_glabella
    type: plant-status
  - entities:
    - entities:
      - align: center
        color: '#0279ff'
        entity: sensor.time_at_work_this_week
        entity_row: true
        height: 30px
        max: 50
        min: 0
        severity:
        - color: '#ff3c31'
          from: 0
          to: 30
        - color: '#ffcc01'
          from: 30
          to: 38
        - color: '#34c758'
          from: 38
          to: 42
        - color: '#ff3c31'
          from: 42
          to: 50
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        target: 40
        type: custom:bar-card
      - align: center
        entity: sensor.time_at_work_prognosis
        entity_row: true
        height: 30px
        max: 50
        min: 0
        severity:
        - color: '#ff3c31'
          from: 0
          to: 30
        - color: '#ffcc01'
          from: 30
          to: 38
        - color: '#34c758'
          from: 38
          to: 42
        - color: '#ff3c31'
          from: 42
          to: 50
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        target: 40
        type: custom:bar-card
      - type: divider
      - align: center
        entity: sensor.time_at_work_on_monday
        entity_row: true
        height: 30px
        max: 12
        min: 0
        severity:
        - color: '#ff3c31'
          from: 0
          to: 6
        - color: '#ffcc01'
          from: 6
          to: 8
        - color: '#34c758'
          from: 8
          to: 9
        - color: '#ff3c31'
          from: 9
          to: 10
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        target: 8
        type: custom:bar-card
      - align: center
        entity: sensor.time_at_work_on_tuesday
        entity_row: true
        height: 30px
        max: 12
        min: 0
        severity:
        - color: '#ff3c31'
          from: 0
          to: 6
        - color: '#ffcc01'
          from: 6
          to: 8
        - color: '#34c758'
          from: 8
          to: 9
        - color: '#ff3c31'
          from: 9
          to: 10
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        target: 8
        type: custom:bar-card
      - align: center
        entity: sensor.time_at_work_on_wednessday
        entity_row: true
        height: 30px
        max: 12
        min: 0
        severity:
        - color: '#ff3c31'
          from: 0
          to: 6
        - color: '#ffcc01'
          from: 6
          to: 8
        - color: '#34c758'
          from: 8
          to: 9
        - color: '#ff3c31'
          from: 9
          to: 10
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        target: 8
        type: custom:bar-card
      - align: center
        entity: sensor.time_at_work_on_thursday
        entity_row: true
        height: 30px
        max: 12
        min: 0
        severity:
        - color: '#ff3c31'
          from: 0
          to: 6
        - color: '#ffcc01'
          from: 6
          to: 8
        - color: '#34c758'
          from: 8
          to: 9
        - color: '#ff3c31'
          from: 9
          to: 10
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        target: 8
        type: custom:bar-card
      - align: center
        entity: sensor.time_at_work_on_friday
        entity_row: true
        height: 30px
        max: 12
        min: 0
        severity:
        - color: '#ff3c31'
          from: 0
          to: 6
        - color: '#ffcc01'
          from: 6
          to: 8
        - color: '#34c758'
          from: 8
          to: 9
        - color: '#ff3c31'
          from: 9
          to: 10
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        target: 8
        type: custom:bar-card
      - card:
          show_header_toggle: false
          title: Tom
          type: entities
        filter:
          include:
          - group: group.iphone_tom
        type: custom:auto-entities
      head:
        entity: person.tom
        name: 'Tom

          '
        state: '{{ states(''person.tom'').replace(''_'', '' '').capitalize() }}

          '
        type: custom:template-entity-row
      type: custom:fold-entity-row
    - entities:
      - card:
          show_header_toggle: false
          title: Tanja
          type: entities
        filter:
          include:
          - group: group.iphone_tanja
        type: custom:auto-entities
      head:
        entity: person.tanja
        name: 'Tanja

          '
        state: '{{ states(''person.tanja'').replace(''_'', '' '').capitalize() }}

          '
        type: custom:template-entity-row
      type: custom:fold-entity-row
    show_header_toggle: false
    style: ".card-content {\n  padding-top: 16px;\n}\n"
    type: entities
  icon: mdi:home
  path: default_view
  theme: Backend-selected
  title: Home
- cards:
  - cards:
    - entities:
      - entity: sensor.current_version
        icon: mdi:home-assistant
        name: Hassio Installed Version
      - entity: sensor.home_assistant_versions
        icon: mdi:home-assistant
        name: Hassio Current Version
      - entity: sensor.hacs
        icon: mdi:update
        name: Community Store
      - entity: binary_sensor.backups_stale
      - type: divider
      - entity: sensor.last_boot
        icon: mdi:calendar
      - entity: sensor.uptime
        icon: mdi:home-assistant
      - entity: sensor.mariadb_size
        icon: mdi:home-assistant
      - animation: 'off'
        entity: sensor.processor_use
        entity_row: true
        height: 30px
        indicator: 'off'
        severity:
        - color: green
          from: 0
          to: 60
        - color: orange
          from: 60
          to: 85
        - color: red
          from: 85
          to: 100
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        type: custom:bar-card
      - animation: 'off'
        entity: sensor.memory_use_percent
        entity_row: true
        height: 30px
        indicator: 'off'
        severity:
        - color: green
          from: 0
          to: 60
        - color: orange
          from: 60
          to: 85
        - color: red
          from: 85
          to: 100
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        type: custom:bar-card
      - animation: 'off'
        entity: sensor.disk_use_percent
        entity_row: true
        height: 30px
        indicator: 'off'
        severity:
        - color: green
          from: 0
          to: 60
        - color: orange
          from: 60
          to: 85
        - color: red
          from: 85
          to: 100
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        type: custom:bar-card
      - type: divider
      - entity: sensor.myip
        icon: mdi:ip-network
      show_header_toggle: false
      title: System
      type: entities
    type: vertical-stack
  - cards:
    - columns: 4
      entities:
      - entity: sensor.count_automations
        name: Automations
      - entity: sensor.count_scripts
        name: Scripts
      - entity: sensor.count_zones
        name: Zones
      - entity: sensor.count_device_trackers
        name: Device Trackers
      - entity: sensor.count_switches
        name: Switches
      - entity: sensor.count_sensors
        name: Sensors
      - entity: sensor.count_binary_sensors
        name: Binary Sensors
      - entity: sensor.count_input_booleans
        name: Input Booleans
      - entity: sensor.count_input_numbers
        name: Input Numbers
      - entity: sensor.count_input_texts
        name: Input Texts
      - entity: sensor.count_input_selects
        name: Input Select
      - entity: sensor.count_input_datetimes
        name: Input Date Times
      title: Component Count
      type: glance
    type: vertical-stack
  - cards:
    - cards:
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.speedtest_ping
          index: 0
          name: Ping
        font_size: 70
        group: false
        hour24: true
        line_width: 6
        lower_bound: 0
        points_per_hour: 1
        show:
          extrema: true
          fill: fade
          icon: true
          labels: false
          name: true
          state: true
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        type: custom:mini-graph-card
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.speedtest_download
          index: 0
          name: Download
        font_size: 70
        group: false
        hour24: true
        line_width: 6
        lower_bound: 0
        points_per_hour: 1
        show:
          extrema: true
          fill: fade
          icon: true
          labels: false
          name: true
          state: true
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        type: custom:mini-graph-card
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.speedtest_upload
          index: 0
          name: Upload
        font_size: 70
        group: false
        hour24: true
        line_width: 6
        lower_bound: 0
        points_per_hour: 1
        show:
          extrema: true
          fill: fade
          icon: true
          labels: false
          name: true
          state: true
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        type: custom:mini-graph-card
      horizontal: true
      name: Speedtest
      style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
        \ 0, 0)';\n}\n"
      type: custom:vertical-stack-in-card
    style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: var(--ha-card-background);\n\
      }\n"
    title: Network
    type: custom:vertical-stack-in-card
  - entities:
    - entity: zone.home
      icon: mdi:restart
      name: Lovelace
      tap_action:
        action: call-service
        service: frontend.reload_themes
    - entity: zone.home
      icon: mdi:restart
      name: Home Assistant
      tap_action:
        action: call-service
        service: homeassistant.restart
    - entity: zone.home
      icon: mdi:restart
      name: Server
      tap_action:
        action: call-service
        service: hassio.host_reboot
    show_name: true
    show_state: false
    type: glance
  icon: mdi:home-assistant
  path: system
  title: System Information
- badges: []
  cards:
  - columns: 5
    entities:
    - entity: sensor.smart_switch_back_door_battery_level
    - entity: sensor.dimmer_switch_living_room_battery_level
    - entity: sensor.bedroom_wall_switch_battery_level
    - entity: sensor.bathroom_wall_switch_battery_level
    show_icon: true
    show_name: false
    title: Buttons
    type: glance
  - entities:
    - entity: binary_sensor.activity_in_bathroom
    - entity: binary_sensor.activity_in_kitchen
    - entity: binary_sensor.activity_in_storage
    - entity: binary_sensor.activity_in_toilet
    - entity: binary_sensor.activity_in_bedroom
    - entity: binary_sensor.activity_in_guest_bedroom
    - entity: binary_sensor.activity_in_living_room
    - entity: binary_sensor.activity_in_hall
    - type: divider
    - entity: binary_sensor.openclose_front_door
    - entity: binary_sensor.openclose_back_door
    - entity: binary_sensor.openclose_living_room_door
    - entity: binary_sensor.openclose_storage_door
    - type: divider
    - entity: binary_sensor.motion_detected
    - entity: binary_sensor.motion_detected_in_last_hour
    - entity: binary_sensor.someone_showering
    - entity: binary_sensor.someone_showering_storage
    - entity: binary_sensor.someone_in_the_house_in_last_hour
    show_header_toggle: false
    title: Activity in the house
    type: entities
  - columns: 3
    entities:
    - entity: binary_sensor.motion_sensor_living_room
      name: Living room
    - entity: binary_sensor.motion_sensor_living_room_tamper
      name: ''
    - entity: sensor.motion_sensor_living_room_battery_level
      name: ''
    - entity: binary_sensor.motion_sensor_kitchen
      name: Kitchen
    - entity: sensor.motion_sensor_kitchen_light_level
      name: ''
    - entity: sensor.motion_sensor_kitchen_battery_level
      name: ''
    - entity: binary_sensor.motion_sensor_toilet
      name: Toilet
    - entity: sensor.motion_sensor_toilet_light_level
      name: ''
    - entity: sensor.motion_sensor_toilet_battery_level
      name: ''
    - entity: binary_sensor.motion_sensor_lower_hall
      name: Lower Hall
    - entity: binary_sensor.motion_sensor_lower_hall_tamper
      name: ''
    - entity: sensor.motion_sensor_lower_hall_battery_level
      name: ''
    - entity: binary_sensor.motion_sensor_lower_hall_2
      name: Lower hall 2
    - entity: sensor.motion_sensor_lower_hall_2_light_level
      name: ''
    - entity: sensor.motion_sensor_lower_hall_2_battery_level
      name: ''
    - entity: binary_sensor.motion_sensor_upper_hall
      name: Upper Hall
    - entity: binary_sensor.motion_sensor_upper_hall_tamper
      name: ''
    - entity: sensor.motion_sensor_upper_hall_battery_level
      name: ''
    - entity: binary_sensor.motion_sensor_guest_bedroom
      name: Guest bedroom
    - entity: sensor.motion_sensor_guest_bedroom_light_level
      name: ''
    - entity: sensor.motion_sensor_guest_bedroom_battery_level
      name: ''
    show_icon: true
    show_name: true
    state_color: true
    title: Motion sensor
    type: glance
  - columns: 3
    entities:
    - entity: binary_sensor.openclose_front_door
      name: Front door
    - entity: binary_sensor.openclose_front_door_tamper
      name: ''
    - entity: sensor.openclose_front_door_battery_level
      name: ''
    - entity: binary_sensor.openclose_back_door
      name: Back door
    - entity: binary_sensor.openclose_back_door_tamper
      name: ''
    - entity: sensor.openclose_back_door_battery_level
      name: ''
    - entity: binary_sensor.openclose_living_room_door
      name: Living room door
    - entity: binary_sensor.openclose_living_room_door_tamper
      name: ''
    - entity: sensor.openclose_living_room_door_battery_level
      name: ''
    - entity: binary_sensor.openclose_storage_door
      name: Storage door
    - entity: binary_sensor.openclose_storage_door_tamper
      name: ''
    - entity: sensor.openclose_storage_door_battery_level
      name: ''
    show_icon: true
    show_name: true
    title: Open/close sensor
    type: glance
  - entities:
    - entity: binary_sensor.anything_on
    - entity: binary_sensor.any_light_on
    show_header_toggle: false
    title: Devices are on
    type: entities
  - entities:
    - entity: sensor.mi_flora_calathea_medaillon_moisture
    - entity: sensor.mi_flora_calathea_medaillon_temperature
    - entity: sensor.mi_flora_calathea_medaillon_conductivity
    - entity: sensor.mi_flora_calathea_medaillon_light_intensity
    - type: divider
    - entity: sensor.mi_flora_peperomia_glabella_moisture
    - entity: sensor.mi_flora_peperomia_glabella_temperature
    - entity: sensor.mi_flora_peperomia_glabella_conductivity
    - entity: sensor.mi_flora_peperomia_glabella_light_intensity
    show_header_toggle: false
    title: Plant sensors
    type: entities
  - columns: 4
    entities:
    - entity: sensor.xiaomi_temperature_storage
      name: Storage
    - entity: sensor.humidity_storage
      name: ''
    - entity: sensor.pressure_storage
      name: ''
    - entity: sensor.multi_sensor_storage_battery_level
      name: ''
    - entity: sensor.xiaomi_temperature_bathroom
      name: Bathroom
    - entity: sensor.humidity_bathroom
      name: ''
    - entity: sensor.pressure_bathroom
      name: ''
    - entity: sensor.multi_sensor_bathroom_battery_level
      name: ''
    - entity: sensor.xiaomi_temperature_marthe_bedroom
      name: Marthe Bedroom
    - entity: sensor.humidity_marthe_bedroom
      name: ''
    - entity: sensor.pressure_marthe_bedroom
      name: ''
    - entity: sensor.multi_sensor_marthe_bedroom_battery_level
      name: ''
    show_icon: true
    show_name: true
    show_state: true
    theme: Backend-selected
    title: Multi sensors
    type: glance
  - columns: 4
    entities:
    - entity: sensor.xiaomi_temperature_storage
      name: Storage
    - entity: sensor.humidity_storage
      name: ''
    - entity: sensor.pressure_storage
      name: ''
    - entity: sensor.multi_sensor_storage_battery_level
      name: ''
    - entity: sensor.xiaomi_temperature_bathroom
      name: Bathroom
    - entity: sensor.humidity_bathroom
      name: ''
    - entity: sensor.pressure_bathroom
      name: ''
    - entity: sensor.multi_sensor_bathroom_battery_level
      name: ''
    - entity: sensor.xiaomi_temperature_marthe_bedroom
      name: Marthe Bedroom
    - entity: sensor.humidity_marthe_bedroom
      name: ''
    - entity: sensor.pressure_marthe_bedroom
      name: ''
    - entity: sensor.multi_sensor_marthe_bedroom_battery_level
      name: ''
    - entity: sensor.temperature_living_room
      name: Living room
    - entity: sensor.temperature_bathroom
      name: Bathroom
    - entity: sensor.temperature_kitchen
      name: Kitchen
    - entity: sensor.temperature_bedroom
      name: Bedroom
    - entity: sensor.temperature_bedroom_marthe
      name: Bedroom Marthe
    - entity: sensor.temperature_storage
      name: Storage
    - entity: sensor.motion_sensor_toilet_temperature
      name: Toilet
    show_icon: true
    show_name: true
    show_state: true
    theme: Backend-selected
    title: Temperature sensors
    type: glance
  - cards:
    - entities:
      - entity: sensor.humidity_bathroom
      - entity: binary_sensor.humidity_bathroom_trend
      - entity: sensor.humidity_bathroom_derivative
      - entity: sensor.humidity_bathroom_stats
      - entity: binary_sensor.someone_showering
      title: Bathroom occupied
      type: entities
    - entities:
      - entity: sensor.humidity_storage
      - entity: binary_sensor.humidity_storage_trend
      - entity: sensor.humidity_storage_derivative
      - entity: sensor.humidity_storage_stats
      - entity: binary_sensor.someone_showering_storage
      title: Shower occupied
      type: entities
    type: vertical-stack
  - entities:
    - entity: sensor.hours_bedroom_lights_have_been_on_last_7_days
      icon: mdi:clock
      name: Bedroom lights
      secondary: 'Been on {{ (states(''sensor.hours_bedroom_lights_have_been_on_last_7_days'')|float(default=7
        * 24) / (7*24) * 100) | round(2) }}% during last 7 days.

        '
      state: '{{ states("sensor.hours_bedroom_lights_have_been_on_last_7_days") }}
        h'
      type: custom:template-entity-row
    - entity: sensor.hours_guest_bedroom_lights_have_been_on_last_7_days
      icon: mdi:clock
      name: Guest Bedroom lights
      secondary: 'Been on {{ (states(''sensor.hours_guest_bedroom_lights_have_been_on_last_7_days'')|float(default=7
        * 24) / (7*24) * 100) | round(2) }}% during last 7 days.

        '
      state: '{{ states("sensor.hours_guest_bedroom_lights_have_been_on_last_7_days")
        }} h'
      type: custom:template-entity-row
    - entity: sensor.hours_living_room_lights_have_been_on_last_7_days
      icon: mdi:clock
      name: Living room lights
      secondary: 'Been on {{ (states(''sensor.hours_living_room_lights_have_been_on_last_7_days'')|float(default=7
        * 24) / (7*24) * 100) | round(2) }}% during last 7 days.

        '
      state: '{{ states("sensor.hours_living_room_lights_have_been_on_last_7_days")
        }} h'
      type: custom:template-entity-row
    - entity: sensor.hours_toilet_light_has_been_on_last_7_days
      icon: mdi:clock
      name: Toilet
      secondary: 'Been on {{ (states(''sensor.hours_toilet_light_has_been_on_last_7_days'')|float(default=7
        * 24) / (7*24) * 100) | round(2) }}% during last 7 days.

        '
      state: '{{ states("sensor.hours_toilet_light_has_been_on_last_7_days") }} h'
      type: custom:template-entity-row
    - entity: sensor.hours_bathroom_lights_have_been_on_last_7_days
      icon: mdi:clock
      name: Bathroom lights
      secondary: 'Been on {{ (states(''sensor.hours_bathroom_lights_have_been_on_last_7_days'')|float(default=7
        * 24) / (7*24) * 100) | round(2) }}% during last 7 days.

        '
      state: '{{ states("sensor.hours_bathroom_lights_have_been_on_last_7_days") }}
        h'
      type: custom:template-entity-row
    - entity: sensor.hours_kitchen_lights_have_been_on_last_7_days
      icon: mdi:clock
      name: Kitchen lights
      secondary: 'Been on {{ (states(''sensor.hours_kitchen_lights_have_been_on_last_7_days'')|float(default=7
        * 24) / (7*24) * 100) | round(2) }}% during last 7 days.

        '
      state: '{{ states("sensor.hours_kitchen_lights_have_been_on_last_7_days") }}
        h'
      type: custom:template-entity-row
    - entity: sensor.hours_outside_lights_have_been_on_last_7_days
      icon: mdi:clock
      name: Outside lights
      secondary: 'Been on {{ (states(''sensor.hours_outside_lights_have_been_on_last_7_days'')|float(default=7
        * 24) / (7*24) * 100) | round(2) }}% during last 7 days.

        '
      state: '{{ states("sensor.hours_outside_lights_have_been_on_last_7_days") }}
        h'
      type: custom:template-entity-row
    - type: divider
    - entity: sensor.lights_on_total_hours
      icon: mdi:clock
      name: Total cost estimate for last 7 days
      secondary: 'Total is {{ states(''sensor.lights_on_total_hours'') | round(1,
        default=0) }} hours, {{ states(''sensor.lights_on_total_kwh'') | round(1,
        default=0) }} kWh, €{{ (states(''sensor.lights_on_total_kwh'')|float(default=0)
        * states(''sensor.electricity_price_peak'')|float(default=0)) | round(2) }}.

        '
      state: '{{ states("sensor.lights_on_total_hours") }} h'
      type: custom:template-entity-row
    title: Lights on last 7 days
    type: entities
  icon: mdi:motion-sensor
  path: sensors
  theme: Backend-selected
  title: Sensors
  visible: []
- badges: []
  cards:
  - entities:
    - entity: input_boolean.wake_up_light
    - entity: input_boolean.demo_wake_up_light
    show_header_toggle: false
    title: Test apps
    type: entities
  - entities:
    - entity: input_select.cube_mode
    - entity: input_select.last_script_bedroom
    - entity: input_select.last_script_guest_bedroom
    - entity: input_select.last_script_living_room
    show_header_toggle: false
    title: Inputs (automatically switched)
    type: entities
  - entities:
    - entity: input_datetime.espresso_machine_on
    - entity: input_datetime.espresso_machine_off
    - entity: input_datetime.dishwasher_on
    - entity: input_datetime.dishwasher_off
    - entity: input_datetime.washing_machine_on
    - entity: input_datetime.washing_machine_off
    - entity: input_datetime.tumble_dryer_on
    - entity: input_datetime.tumble_dryer_off
    show_header_toggle: false
    title: Datetimes
    type: entities
  - entities:
    - align: center
      color: '#0279ff'
      entity: sensor.time_at_work_this_week
      entity_row: true
      height: 30px
      max: 50
      min: 0
      severity:
      - color: '#ff3c31'
        from: 0
        to: 30
      - color: '#ffcc01'
        from: 30
        to: 38
      - color: '#34c758'
        from: 38
        to: 42
      - color: '#ff3c31'
        from: 42
        to: 50
      style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
        \ 0, 0)';\n}\n"
      target: 40
      type: custom:bar-card
    - align: center
      entity: sensor.time_at_work_prognosis
      entity_row: true
      height: 30px
      max: 50
      min: 0
      severity:
      - color: '#ff3c31'
        from: 0
        to: 30
      - color: '#ffcc01'
        from: 30
        to: 38
      - color: '#34c758'
        from: 38
        to: 42
      - color: '#ff3c31'
        from: 42
        to: 50
      style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
        \ 0, 0)';\n}\n"
      target: 40
      type: custom:bar-card
    - type: divider
    - align: center
      entity: sensor.time_at_work_on_monday
      entity_row: true
      height: 30px
      max: 12
      min: 0
      severity:
      - color: '#ff3c31'
        from: 0
        to: 6
      - color: '#ffcc01'
        from: 6
        to: 8
      - color: '#34c758'
        from: 8
        to: 9
      - color: '#ff3c31'
        from: 9
        to: 10
      style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
        \ 0, 0)';\n}\n"
      target: 8
      type: custom:bar-card
    - align: center
      entity: sensor.time_at_work_on_tuesday
      entity_row: true
      height: 30px
      max: 12
      min: 0
      severity:
      - color: '#ff3c31'
        from: 0
        to: 6
      - color: '#ffcc01'
        from: 6
        to: 8
      - color: '#34c758'
        from: 8
        to: 9
      - color: '#ff3c31'
        from: 9
        to: 10
      style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
        \ 0, 0)';\n}\n"
      target: 8
      type: custom:bar-card
    - align: center
      entity: sensor.time_at_work_on_wednessday
      entity_row: true
      height: 30px
      max: 12
      min: 0
      severity:
      - color: '#ff3c31'
        from: 0
        to: 6
      - color: '#ffcc01'
        from: 6
        to: 8
      - color: '#34c758'
        from: 8
        to: 9
      - color: '#ff3c31'
        from: 9
        to: 10
      style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
        \ 0, 0)';\n}\n"
      target: 8
      type: custom:bar-card
    - align: center
      entity: sensor.time_at_work_on_thursday
      entity_row: true
      height: 30px
      max: 12
      min: 0
      severity:
      - color: '#ff3c31'
        from: 0
        to: 6
      - color: '#ffcc01'
        from: 6
        to: 8
      - color: '#34c758'
        from: 8
        to: 9
      - color: '#ff3c31'
        from: 9
        to: 10
      style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
        \ 0, 0)';\n}\n"
      target: 8
      type: custom:bar-card
    - align: center
      entity: sensor.time_at_work_on_friday
      entity_row: true
      height: 30px
      max: 12
      min: 0
      severity:
      - color: '#ff3c31'
        from: 0
        to: 6
      - color: '#ffcc01'
        from: 6
        to: 8
      - color: '#34c758'
        from: 8
        to: 9
      - color: '#ff3c31'
        from: 9
        to: 10
      style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
        \ 0, 0)';\n}\n"
      target: 8
      type: custom:bar-card
    show_header_toggle: false
    title: Work time
    type: entities
  - entities:
    - entity: sensor.times_espresso_machine_has_been_on_last_7_days
    - entity: sensor.hours_espresso_machine_has_been_on_last_7_days
    - entity: sensor.times_dishwasher_has_been_on_last_7_days
    - entity: sensor.hours_dishwasher_has_been_on_last_7_days
    - entity: sensor.times_washing_machine_has_been_on_last_7_days
    - entity: sensor.hours_washing_machine_has_been_on_last_7_days
    - entity: sensor.times_tumble_dryer_has_been_on_last_7_days
    - entity: sensor.hours_tumble_dryer_has_been_on_last_7_days
    - entity: sensor.times_tv_has_been_on_last_7_days
    - entity: sensor.hours_tv_has_been_on_last_7_days
    title: Stats
    type: entities
  - entities:
    - entity: input_boolean.test
    - entity: sensor.average_sleep_time
    - entity: input_select.sleep_mode
    type: entities
  - cards:
    - cards:
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.adaptive_lighting_brightness
          name: Brightness
        font_size: 100
        group: false
        hour24: true
        line_width: 6
        points_per_hour: 1
        show:
          extrema: false
          fill: fade
          labels: false
          name: true
          state: true
        type: custom:mini-graph-card
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.adaptive_lighting_sun_position
          name: Sun position
        font_size: 100
        group: false
        hour24: true
        line_width: 6
        points_per_hour: 1
        show:
          extrema: false
          fill: fade
          labels: false
          name: true
          state: true
        type: custom:mini-graph-card
      type: horizontal-stack
    - cards:
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.adaptive_lighting_color_temp_mired
          name: Color temperature (mired)
        font_size: 100
        group: false
        hour24: true
        line_width: 6
        points_per_hour: 1
        show:
          extrema: false
          fill: fade
          labels: false
          name: true
          state: true
        type: custom:mini-graph-card
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.adaptive_lighting_color_temp_kelvin
          name: Color temperature (Kelvin)
        font_size: 100
        group: false
        hour24: true
        line_width: 6
        points_per_hour: 1
        show:
          extrema: false
          fill: fade
          labels: false
          name: true
          state: true
        type: custom:mini-graph-card
      type: horizontal-stack
    type: vertical-stack
  - cards:
    - color_thresholds_transition: smooth
      entities:
      - entity: sensor.adaptive_lighting_brightness
        name: Brightness
        show_state: true
      - entity: sensor.adaptive_lighting_color_temp_kelvin
        name: Color temp (Kelvin)
        show_state: true
        y_axis: secondary
      font_size: 80
      group: false
      hour24: true
      hours_to_show: 72
      line_width: 2
      lower_bound: 60
      lower_bound_secondary: 0
      name: Brightness vs color temp
      points_per_hour: 2
      show:
        extrema: false
        fill: fade
        labels: false
        name: true
        state: true
      type: custom:mini-graph-card
      upper_bound: 105
      upper_bound_secondary: ~5500
    - color_thresholds_transition: smooth
      entities:
      - entity: sensor.adaptive_lighting_brightness
        name: Brightness
        show_state: true
      - entity: sensor.adaptive_lighting_sun_position
        name: Sun position
        show_state: true
        y_axis: secondary
      font_size: 80
      group: false
      hour24: true
      hours_to_show: 72
      line_width: 2
      lower_bound: 40
      lower_bound_secondary: -100
      name: Brightness vs sun position
      points_per_hour: 2
      show:
        extrema: false
        fill: fade
        labels: false
        name: true
        state: true
      type: custom:mini-graph-card
      upper_bound: 100
      upper_bound_secondary: 100
    - color_thresholds_transition: smooth
      entities:
      - entity: sensor.adaptive_lighting_color_temp_kelvin
        name: Color temp
        show_state: true
      - entity: sensor.adaptive_lighting_sun_position
        name: Sun position
        show_state: true
        y_axis: secondary
      font_size: 80
      group: false
      hour24: true
      hours_to_show: 72
      line_width: 2
      lower_bound: 0
      lower_bound_secondary: -100
      name: Color temp vs sun position
      points_per_hour: 2
      show:
        extrema: false
        fill: fade
        labels: false
        name: true
        state: true
      type: custom:mini-graph-card
      upper_bound: ~5500
      upper_bound_secondary: 100
    type: custom:swipe-card
  - dark_mode: true
    entities:
    - entity: person.tom
    - entity: person.tanja
    hours_to_show: 240
    type: map
  - entities:
    - entity: sensor.xiaomi_temperature_bathroom
      name: Bathroom
      secondary: '💦 {{ states(''sensor.humidity_bathroom'') }}%, ⚖️ {{ states(''sensor.pressure_bathroom'')
        }} hPa, 🔋 {{ states(''sensor.multi_sensor_bathroom_battery_level'') }}% '
      state: '{{ states("sensor.xiaomi_temperature_bathroom") }} °C'
      type: custom:template-entity-row
    - entity: sensor.xiaomi_temperature_storage
      name: Storage
      secondary: '💦 {{ states(''sensor.humidity_storage'') }}%, ⚖️ {{ states(''sensor.pressure_storage'')
        }} hPa, 🔋 {{ states(''sensor.multi_sensor_storage_battery_level'') }}% '
      state: '{{ states("sensor.xiaomi_temperature_storage") }} °C'
      type: custom:template-entity-row
    - entity: sensor.xiaomi_temperature_marthe_bedroom
      name: Marthe bedroom
      secondary: '💦 {{ states(''sensor.humidity_marthe_bedroom'') }}%, ⚖️ {{ states(''sensor.pressure_storage'')
        }} hPa, 🔋 {{ states(''sensor.multi_sensor_marthe_bedroom_battery_level'')
        }}% '
      state: '{{ states("sensor.xiaomi_temperature_marthe_bedroom") }} °C'
      type: custom:template-entity-row
    title: Multi sensors
    type: entities
  - entities:
    - entity: sensor.temperature_living_room
      name: Living room climate
      state: '{{ states("sensor.temperature_living_room") }} °C'
      type: custom:template-entity-row
    - entity: sensor.temperature_living_room
      name: Kitchen climate
      state: '{{ states("sensor.temperature_kitchen") }} °C'
      type: custom:template-entity-row
    - entity: sensor.temperature_living_room
      name: Bathroom climate
      state: '{{ states("sensor.temperature_bathroom") }} °C'
      type: custom:template-entity-row
    - entity: sensor.temperature_storage
      name: Storage climate
      state: '{{ states("sensor.temperature_storage") }} °C'
    - entity: sensor.temperature_living_room
      name: Bedroom climate
      state: '{{ states("sensor.temperature_bedroom") }} °C'
    - entity: sensor.temperature_living_room
      name: Bedroom Marthe climate
      state: '{{ states("sensor.temperature_bedroom_marthe") }} °C'
      type: custom:template-entity-row
    - entity: sensor.motion_sensor_toilet_temperature
      name: Toilet
      state: '{{ states("sensor.motion_sensor_toilet_temperature") }} °C'
      type: custom:template-entity-row
    - type: divider
    - entity: sensor.xiaomi_temperature_bathroom
      state: '{{ states("sensor.xiaomi_temperature_bathroom") }} °C'
    - entity: sensor.xiaomi_temperature_storage
      state: '{{ states("sensor.xiaomi_temperature_storage") }} °C'
    - entity: sensor.xiaomi_temperature_marthe_bedroom
      state: '{{ states("sensor.xiaomi_temperature_marthe_bedroom") }} °C'
    - entity: sensor.motion_sensor_lower_hall_2_temperature
      state: '{{ states("sensor.motion_sensor_lower_hall_2_temperature") }} °C'
    title: Temperature sensors
    type: entities
  - entities:
    - active: '{{ is_state("binary_sensor.motion_sensor_living_room", "on") }}'
      entity: binary_sensor.motion_sensor_living_room
      name: Living room
      secondary: 'Tamper {{ states("binary_sensor.motion_sensor_living_room_tamper")
        }}, battery {{ states("sensor.motion_sensor_living_room_battery_level") }}%

        '
      type: custom:template-entity-row
    - active: '{{ is_state("binary_sensor.motion_sensor_kitchen", "on") }}'
      entity: binary_sensor.motion_sensor_kitchen
      name: Kitchen
      secondary: 'Light level {{ states("sensor.motion_sensor_kitchen_light_level")
        }} lx, battery {{ states("sensor.motion_sensor_kitchen_battery_level") }}%

        '
      type: custom:template-entity-row
    - active: '{{ is_state("binary_sensor.motion_sensor_toilet", "on") }}'
      entity: binary_sensor.motion_sensor_toilet
      name: Toilet
      secondary: 'Light level {{ states("sensor.motion_sensor_toilet_light_level")
        }} lx, battery {{ states("sensor.motion_sensor_toilet_battery_level") }}%

        '
      type: custom:template-entity-row
    - active: '{{ is_state("binary_sensor.motion_sensor_lower_hall", "on") }}'
      entity: binary_sensor.motion_sensor_lower_hall
      name: Lower hall
      secondary: 'Tamper {{ states("binary_sensor.motion_sensor_lower_hall_tamper")
        }}, battery {{ states("sensor.motion_sensor_lower_hall_battery_level") }}%

        '
      type: custom:template-entity-row
    - active: '{{ is_state("binary_sensor.motion_sensor_lower_hall_2", "on") }}'
      entity: binary_sensor.motion_sensor_lower_hall_2
      name: Lower hall 2
      secondary: 'Light level {{ states("sensor.motion_sensor_lower_hall_2_light_level")
        }} lx, battery {{ states("sensor.motion_sensor_lower_hall_2_battery_level")
        }}%

        '
      type: custom:template-entity-row
    - active: '{{ is_state("binary_sensor.motion_sensor_upper_hall", "on") }}'
      entity: binary_sensor.motion_sensor_upper_hall
      name: Upper hall
      secondary: 'Tamper {{ states("binary_sensor.motion_sensor_upper_hall_tamper")
        }}, battery {{ states("sensor.motion_sensor_upper_hall_battery_level") }}%

        '
      type: custom:template-entity-row
    title: Motion sensors
    type: entities
  icon: mdi:test-tube
  path: tests
  theme: Backend-selected
  title: Tests
  visible: []
- badges: []
  cards:
  - card:
      show_header_toggle: false
      title: Uncategorized automations
      type: entities
    filter:
      exclude:
      - entity_id: automation.adaptive_lighting*
      - entity_id: automation.alarm_clock_*
      - entity_id: automation.apple_watch*
      - entity_id: automation.arriving_*
      - entity_id: automation.climate_*
      - entity_id: automation.control_switches*
      - entity_id: automation.cube_*
      - entity_id: automation.doorbell_*
      - entity_id: automation.frontend_*
      - entity_id: automation.kef_dsp_*
      - entity_id: automation.leaving_*
      - entity_id: automation.light_*
      - entity_id: automation.lovelace_*
      - entity_id: automation.lsx_*
      - entity_id: automation.media_player_*
      - entity_id: automation.music_*
      - entity_id: automation.night_mode_*
      - entity_id: automation.plant_*
      - entity_id: automation.rhasspy_*
      - entity_id: automation.security_*
      - entity_id: automation.system_*
      - entity_id: automation.utilities_*
      - entity_id: automation.vacation_mode_*
      - entity_id: automation.vacuum_*
      - entity_id: automation.work*
      - entity_id: automation.curtains_*
      - entity_id: automation.solar_*
      - entity_id: automation.medication_*
      - entity_id: automation.candy_*
      - entity_id: automation.electric_vehicle_*
      include:
      - domain: automation
    show_empty: false
    sort: entity_id
    type: custom:auto-entities
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Alarm clock
    - slug: alarm_clock
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Plant
    - slug: plant_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Climate
    - slug: climate
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Frontend
    - slug: frontend_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Leaving
    - slug: leaving
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Light
    - slug: light
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Lovelace
    - slug: lovelace
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Night mode
    - slug: night_mode_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Security
    - slug: security
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: System
    - slug: system_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Utilities
    - slug: utilities_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Vacation mode
    - slug: vacation_mode
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Vacuum
    - slug: vacuum
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Work
    - slug: work
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Apple Watch
    - slug: apple_watch
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Adaptive Lighting
    - slug: adaptive_lighting_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Curtains
    - slug: curtains_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Doorbell
    - slug: doorbell_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Security
    - slug: security_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Music
    - slug: music_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Cube
    - slug: cube_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Arriving
    - slug: arriving
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Control Switches
    - slug: control_switches_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Solar
    - slug: solar
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Medication
    - slug: medication
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Candy
    - slug: candy
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Electric vehicle
    - slug: electric_vehicle
  icon: mdi:robot
  path: automations
  title: Automations
